<MahAppsControls:MetroWindow x:Class="Дипломная_работа___Гимаев_Амир.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:MahAppsControls="http://metro.mahapps.com/winfx/xaml/controls"
        xmlns:controlzex="urn:controlzex" 
        xmlns:local="clr-namespace:Дипломная_работа___Гимаев_Амир"
        mc:Ignorable="d" 
        Title="Оцифровка докуметов" 
        MinHeight="500" MinWidth="900" 
        WindowStartupLocation="CenterScreen" Background="#FFC8DCFF" >
    <Grid>
        <Grid Margin="0,75,0,0">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="200" MaxWidth="300" MinWidth="200"/>
                <ColumnDefinition Width="Auto"/>
                <ColumnDefinition Width="217*" MinWidth="600"/>
                <ColumnDefinition Width="Auto"/>
                <ColumnDefinition Width="200" MaxWidth="300" MinWidth="200"/>
            </Grid.ColumnDefinitions>

            <!-- Разделитель для регулировки ширины столбцов Grid -->
            <GridSplitter Grid.Column="1" Width="2"/>
            <GridSplitter Grid.Column="3" Width="2"/>

            <Grid Grid.Column="2" MouseLeftButtonUp="StopChangeSizeAndDragCropRectangle">
                
                <!-- Canvas для реализации возможности перемещения объекта Crop -->
                <Canvas x:Name="MovingSpaceCanvas" SizeChanged="MovingSpace_Canvas_SizeChanged" MouseLeave="StopChangeSizeAndDragCropRectangle">
                    
                    <DockPanel VerticalAlignment="Center" HorizontalAlignment="Center" x:Name="ReferenceInfo" Canvas.Left="0" Canvas.Top="0"
                        Width="{Binding ActualWidth, ElementName=MovingSpaceCanvas}"
                        Height="{Binding ActualHeight, ElementName=MovingSpaceCanvas}" Background="#FFEAEAEA">
                        <Image x:Name="WebcamViewer" Stretch="Uniform"  Margin="0,0,0,0"/>
                    </DockPanel>
                    
                    <!-- Область снимка -->
                    <Grid x:Name="CropRectangle" Height="100" VerticalAlignment="Top" HorizontalAlignment="Left" Width="100" Canvas.Left="100" Canvas.Top="50">
                        <Rectangle x:Name="CropRectangle_left_top" HorizontalAlignment="Left" Height="5" Fill="Red" VerticalAlignment="Top" Width="5" MouseLeftButtonDown="CropRectangle_left_top_MouseLeftButtonDown"  Cursor="SizeNWSE"/>
                        <Rectangle x:Name="CropRectangle_right_top" HorizontalAlignment="Right" Height="5" Fill="Red" VerticalAlignment="Top" Width="5" MouseLeftButtonDown="CropRectangle_right_top_MouseLeftButtonDown"  Cursor="SizeNESW"/>
                        <Rectangle x:Name="CropRectangle_botton_left" HorizontalAlignment="Left" Height="5" Fill="Red" VerticalAlignment="Bottom" Width="5" MouseLeftButtonDown="CropRectangle_botton_left_MouseLeftButtonDown"  Cursor="SizeNESW"/>
                        <Rectangle x:Name="CropRectangle_botton_right" HorizontalAlignment="Right" Height="5" Fill="Red" VerticalAlignment="Bottom" Width="5" MouseLeftButtonDown="CropRectangle_botton_right_MouseLeftButtonDown" Cursor="SizeNWSE"/>
                        <Rectangle x:Name="CropRectangle_top" Height="5" Fill="Red" VerticalAlignment="Top" Margin="5,0,5,0" Cursor="SizeNS" MouseLeftButtonDown="CropRectangle_top_MouseLeftButtonDown"/>
                        <Rectangle x:Name="CropRectangle_left" HorizontalAlignment="Left" Fill="Red" Width="5" Margin="0,5,0,5" Cursor="SizeWE" MouseLeftButtonDown="CropRectangle_left_MouseLeftButtonDown"/>
                        <Rectangle x:Name="CropRectangle_right" HorizontalAlignment="Right" Fill="Red" Width="5" Margin="0,5,0,5" Cursor="SizeWE" MouseLeftButtonDown="CropRectangle_right_MouseLeftButtonDown"/>
                        <Rectangle x:Name="CropRectangle_botton" Height="5" Fill="Red" VerticalAlignment="Bottom" Margin="5,0,5,0" MouseLeftButtonDown="CropRectangle_botton_MouseLeftButtonDown" Cursor="SizeNS"/>
                        <Rectangle x:Name="CropRectangle_center" Margin="5,5,5,5" MouseLeftButtonDown="CropRectangle_center_MouseLeftButtonDown" Fill="Transparent" Cursor="Hand" MouseLeftButtonUp="StopChangeSizeAndDragCropRectangle"/>
                    </Grid>
                </Canvas>
            </Grid>

        </Grid>

        <!-- Меню с кнопками... -->
        <Grid Height="75" VerticalAlignment="Top" >
            <MahAppsControls:FontIcon x:Name="DiCropRectangleory___________" Width="50" Height="50" HorizontalAlignment="Left" Margin="10,12,0,12" />
            <MahAppsControls:FontIcon x:Name="Save___________" Width="50" Height="50" HorizontalAlignment="Left" Margin="70,12,0,13" />
            <MahAppsControls:FontIcon x:Name="SaveAll__________" Width="50" Height="50" HorizontalAlignment="Left" Margin="130,12,0,12" />
            <MahAppsControls:FontIcon x:Name="Send__________" Width="50" Height="50" HorizontalAlignment="Left" Margin="190,12,0,12" />
            <MahAppsControls:FontIcon x:Name="SaveAsPDF" Width="50" Height="50" HorizontalAlignment="Left" Margin="250,12,0,12" />

            <MahAppsControls:FontIcon x:Name="Setting" Width="50" Height="50" HorizontalAlignment="Right" Margin="0,12,10,12" />
        </Grid>

    </Grid>
</MahAppsControls:MetroWindow>
